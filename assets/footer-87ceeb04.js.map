{"version":3,"file":"footer-87ceeb04.js","sources":["../../src/js/local-storage.js","../../src/js/bourique-api.js","../../src/img/icons-tank.svg","../../src/js/modal-succces.js","../../src/js/footer.js"],"sourcesContent":["export class Storage {\n    constructor(storageName) {\n        this.storageName = storageName;\n    }\n    setValue(data) {\n        localStorage.setItem(this.storageName, JSON.stringify(data));\n    }\n    getValue() {\n        return JSON.parse(localStorage.getItem(this.storageName));\n    }\n    removeItem() {\n        localStorage.removeItem(this.storageName);\n    }\n}\n\nexport class ShopStorage {\n    constructor(storageName) {\n        this.storageName = storageName;\n        this.initStorage();\n    }\n\n    initStorage() {\n        if (this.getAllProducts()) {\n            return;\n        }\n        localStorage.setItem(this.storageName, JSON.stringify([]));\n    }\n\n    setProduct(obj) {\n        if (!obj) {\n            return;\n        }\n\n        if (this.getAllProducts().some(item => item._id === obj._id)) {\n            return;\n        }\n\n        localStorage.setItem(\n            this.storageName,\n            JSON.stringify([...this.getAllProducts(), obj])\n        );\n    }\n\n    setAllProduct(dataArray) {\n        localStorage.setItem(this.storageName, JSON.stringify(dataArray));\n    }\n\n    getAllProducts() {\n        return JSON.parse(localStorage.getItem(this.storageName));\n    }\n\n    removeProduct(productId) {\n        this.setAllProduct(\n        this.getAllProducts().filter(item => item._id !== productId)\n        );\n    }\n\n    removeAllProducts() {\n        this.setAllProduct([]);\n    }\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport class FoodBoutiqueAPI {\n    constructor() {}\n\n    // Get categories\n    async getProductCategories() {\n        const { data } = await axios('/products/categories');\n        return data;\n    }\n    async getProducts(requestParams) {\n        const { data } = await axios(`/products`, {\n            params: {\n                ...requestParams,\n            },\n        });\n        return data;\n    }\n\n    // Details\n    async getProductDetails(productId) {\n        const { data } = await axios(`/products/${productId}`);\n        return data;\n    }\n\n    // Get popular products\n    async getPopularProducts() {\n        const { data } = await axios('/products/popular');\n        return data;\n    }\n\n    // Get discount products\n    async getDiscountedProducts() {\n        const { data } = await axios('/products/discount');\n        return data;\n    }\n\n    // Post subscription\n    async subscribeToNewsletter(userData) {\n        const data = await axios.post('/subscription', userData, {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        return data;\n    }\n\n    // Post orders\n    async placeOrder(orderData) {\n        const { data } = await axios.post('/orders', orderData, {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        return data;\n    }\n}","export default \"__VITE_ASSET__3f9abbf0__\"","import { Storage } from './local-storage';\nimport icons from '../img/icons-tank.svg';\n\nconst SHOP_STORAGE = 'shop-storage';\nconst shopStorage = new Storage(SHOP_STORAGE);\nlet closeBtn = null;\n\nexport function openSuccessModal() {\n  const modalSuccesEl = document.querySelector('.modal-order-wrap');\n\n  if (modalSuccesEl) {\n    modalSuccesEl.classList.add('modal-show-order');\n    document.body.classList.add('stop-scroll');\n\n    modalSuccesEl.innerHTML = `\n        <div class=\"modal-order-succ\">\n          <button type=\"button\" class=\"modal-order-succ-btn\">\n            <svg class=\"modal-prod-close-icon\" width='22' height='22'>\n              <use href=\"${icons}#icon-close\"></use>\n            </svg>\n          </button>\n          <div class=\"modal-prod-close-img-wrap\">\n            <svg class=\"modal-check\" width='80' height='80'>\n              <use href=\"${icons}#icon-check\"></use>\n            </svg>\n          </div>\n          <p class=\"modal-success-title\"></p>\n          <p class=\"modal-success-message\"></p>\n        </div>\n      `;\n\n    closeBtn = modalSuccesEl.querySelector('.modal-order-succ-btn');\n    if (closeBtn) {\n      closeBtn.addEventListener('click', () =>\n        closeSuccessModal(modalSuccesEl)\n      );\n    }\n\n    modalSuccesEl.addEventListener('click', e =>\n      closeModalSuccess(e, modalSuccesEl)\n    );\n    document.addEventListener('keydown', e =>\n      closeModalSuccessEsc(e, modalSuccesEl)\n    );\n  }\n}\n\nfunction closeModalSuccess(e, modalSuccesEl) {\n  if (e.target === modalSuccesEl) {\n    closeSuccessModal(modalSuccesEl);\n  }\n}\n\nfunction closeModalSuccessEsc(e, modalSuccesEl) {\n  if (e.keyCode === 27) {\n    closeSuccessModal(modalSuccesEl);\n  }\n}\n\nexport function closeSuccessModal(modalSuccesEl) {\n  closeBtn.removeEventListener('click', () => closeSuccessModal(modalSuccesEl));\n  modalSuccesEl.classList.remove('modal-show-order');\n  document.body.classList.remove('stop-scroll');\n  \n}","import { FoodBoutiqueAPI } from './bourique-api';\nimport Swal from 'sweetalert2';\n\nconst FoodAp = new FoodBoutiqueAPI();\n\nconst form = document.querySelector('form[name=\"E-mail\"]');\n\nconst email = document.getElementById(\"mail\");\nconst emailError = document.querySelector(\"#mail + span.error\");\n\nemail.addEventListener(\"input\", function (event) {\n    if (email.validity.valid) {\n        emailError.textContent = \"\";\n        emailError.className = \"error\";\n    } else {\n        showError();\n    }\n});\n\nform.addEventListener(\"submit\", function (event) {\n    if (!email.validity.valid) {\n        showError();\n        event.preventDefault();\n    }\n});\n\nfunction showError() {\n    if (email.validity.valueMissing) {\n        emailError.textContent = \"You need to enter an e-mail address.\";\n    } else if (email.validity.typeMismatch) {\n        emailError.textContent = \"Entered value needs to be an e-mail address.\";\n    } else if (email.validity.tooShort) {\n        emailError.textContent = `Email shouid be at least ${email.minLength} characters; you entered ${email.value.length}.`;\n    }\n    emailError.className = \"error active\";\n}\n\nform.addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n\n    const email= event.currentTarget.elements['email'];\n    const EmailValue = email.value;\n\n    try { \n    const resp = await FoodAp.subscribeToNewsletter({ email : EmailValue});\n    email.value = '';\n    \n    let Messag = 'Thanks for subscribing!'\n    if (resp && resp.data && resp.data.message) {\n        Messag = resp.data.message;\n    }\n\n    Swal.fire({\n        icon: 'good',\n        title: Messag,\n        showConfirmButton: true,\n        confirmButtonColor: '#6D8434',\n        showCanceButton: false,\n        usuallyClass: {\n            popup: 'small-popup',\n            title: 'usually-title',\n            icon: 'usually-icon',\n            },\n            });\n    } catch (error) {\n        console.error('Error:', error);\n        error;\n\n        let Messagerror = 'Error. Try again.';\n\n        if (error.resp && error.resp.data && error.resp.data.message) {\n            Messagerror = error.resp.data.message;\n}\n\n    Swal.fire({\n    icon: 'error',\n    title: 'Error',\n    showConfirmButton: true,\n    confirmButtonColor: '#6D8434',\n    showCanceButton: false,\n    text: Messagerror,\n    usuallyClass: {\n        popup: 'small-popup',\n        title: 'usually-title',\n        icon: 'usually-icon',\n        },\n    });\n    }\n});\n"],"names":["Storage","storageName","data","ShopStorage","obj","item","dataArray","productId","axios","FoodBoutiqueAPI","requestParams","userData","orderData","icons","SHOP_STORAGE","closeBtn","openSuccessModal","modalSuccesEl","closeSuccessModal","closeModalSuccess","closeModalSuccessEsc","e","FoodAp","form","email","emailError","event","showError","EmailValue","resp","Messag","Swal","error","Messagerror"],"mappings":"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"}