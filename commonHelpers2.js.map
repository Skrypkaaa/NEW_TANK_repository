{"version":3,"file":"commonHelpers2.js","sources":["../src/js/bourique-api.js","../src/js/footer.js","../src/js/select.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = 'https://food-boutique.b.goit.study/api';\n\nexport class FoodBoutiqueAPI {\n    constructor() {}\n\n    // Get categories\n    async getProductsCategories() {\n        const { data } = await axios('/products/categories');\n        return data;\n    }\n    async getProducts(requestParams) {\n        const { data } = await axios(`/products`, {\n            params: {\n                ...requestParams,\n            },\n        });\n        return data;\n    }\n\n    // Details\n    async getProductDetails(productId) {\n        const { data } = await axios(`/products/${productId}`);\n        return data;\n    }\n\n    // Get popular products\n    async getPopularProducts() {\n        const { data } = await axios('/products/popular');\n        return data;\n    }\n\n    // Get discount products\n    async getDiscountedProducts() {\n        const { data } = await axios('/products/discount');\n        return data;\n    }\n\n    // Post subscription\n    async subscribeToNewsletter(userData) {\n        const data = await axios.post('/subscription', userData, {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        return data;\n    }\n\n    // Post orders\n    async placeOrder(orderData) {\n        const { data } = await axios.post('/orders', orderData, {\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n        return data;\n    }\n}","import { FoodBoutiqueAPI } from './bourique-api.js';\nimport Swal from 'sweetalert2';\n\nconst FoodAp = new FoodBoutiqueAPI();\n\nconst form = document.querySelector('form[name=\"E-mail\"]');\n\nconst email = document.getElementById(\"mail\");\nconst emailError = document.querySelector(\"#mail + span.error\");\n\nemail.addEventListener(\"input\", function (event) {\n    if (email.validity.valid) {\n        emailError.textContent = \"\";\n        emailError.className = \"error\";\n    } else {\n        showError();\n    }\n});\n\nform.addEventListener(\"submit\", function (event) {\n    if (!email.validity.valid) {\n        showError();\n        event.preventDefault();\n    }\n});\n\nfunction showError() {\n    if (email.validity.valueMissing) {\n        emailError.textContent = \"You need to enter an e-mail address.\";\n    } else if (email.validity.typeMismatch) {\n        emailError.textContent = \"Entered value needs to be an e-mail address.\";\n    } else if (email.validity.tooShort) {\n        emailError.textContent = `Email shouid be at least ${email.minLength} characters; you entered ${email.value.length}.`;\n    }\n    emailError.className = \"error active\";\n}\n\nform.addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n\n    const email= event.currentTarget.elements['email'];\n    const EmailValue = email.value;\n\n    try { \n    const resp = await FoodAp.subscribeToNewsletter({ email : EmailValue});\n    email.value = '';\n    \n    let Messag = 'Thanks for subscribing!'\n    if (resp && resp.data && resp.data.message) {\n        Messag = resp.data.message;\n    }\n\n    Swal.fire({\n        icon: 'good',\n        title: Messag,\n        showConfirmButton: true,\n        confirmButtonColor: '#6D8434',\n        showCanceButton: false,\n        usuallyClass: {\n            popup: 'small-popup',\n            title: 'usually-title',\n            icon: 'usually-icon',\n            },\n            });\n    } catch (error) {\n        console.error('Error:', error);\n        error;\n\n        let Messagerror = 'Error. Try again.';\n\n        if (error.resp && error.resp.data && error.resp.data.message) {\n            Messagerror = error.resp.data.message;\n}\n\n    Swal.fire({\n    icon: 'error',\n    title: 'Error',\n    showConfirmButton: true,\n    confirmButtonColor: '#6D8434',\n    showCanceButton: false,\n    text: Messagerror,\n    usuallyClass: {\n        popup: 'small-popup',\n        title: 'usually-title',\n        icon: 'usually-icon',\n        },\n    });\n    }\n});\n","\nconst MenuOption = document.querySelector('.custom-select-ctg');\n\nconst MenuSopts = document.querySelector('.custom-select-sort');\n\ndocument.addEventListener('click', function (event) {\n    const isClickInsideMenuOption = MenuOption.contains(event.target);\n    const isClickInsideMenuSopts = MenuSopts.contains(event.target);\n\n    if (!isClickInsideMenuOption) {\n        MenuOption.classList.remove('active');\n    }\n\n    if (!isClickInsideMenuSopts) {\n        MenuSopts.classList.remove('active');\n    }\n    });\n    \n    document.addEventListener('keydown', function (event) {\n    if (event.code === 'Escape') {\n        MenuOption.classList.remove('active');\n        MenuSopts.classList.remove('active');\n    }\n    });\n    "],"names":["axios","FoodBoutiqueAPI","data","requestParams","productId","userData","orderData","FoodAp","form","email","emailError","event","showError","EmailValue","resp","Messag","Swal","error","Messagerror","MenuOption","MenuSopts","isClickInsideMenuOption","isClickInsideMenuSopts"],"mappings":"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"}